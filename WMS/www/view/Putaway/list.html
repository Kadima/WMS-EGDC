<ion-view title="Putaway-List">
    <ion-header-bar class="bar-positive" align-title="center">
        <button class="button button-icon icon ion-android-arrow-back" ng-click="returnMain()"></button>
        <div class="h1 title">Putaway</div>
    </ion-header-bar>
    <ion-pane style="margin-top:44px; height:95px; overflow:visible;">
        <div>
            <div class="row row-center" id="div-list-rcbp">
                <div class="col col-33" style="text-align:center;">
                    <label>Customer</label>
                </div>
                <div class="col col-67">
                    <ui-select ng-model="Rcbp1.selected" theme="bootstrap" reset-search-input="true" on-select="showImgr1(Rcbp1.selected.BusinessPartyCode)">
                        <ui-select-match allow-clear="true" placeholder="Enter to search..." style="overflow:hidden;">{{$select.selected.BusinessPartyName | limitTo:16}}</ui-select-match>
                        <ui-select-choices repeat="Rcbp1 in Rcbp1s track by $index" refresh="refreshRcbp1($select.search)" refresh-delay="0" position="down">
                            <div ng-bind="Rcbp1.BusinessPartyName | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                    <!--div id="scrollable-dropdown-menu">
                        <input class="typeahead" type="text" placeholder="Customer Name">
                    </div-->
                </div>
            </div>
            <div class="row row-center" id="div-list-grn">
                <div class="col col-33" style="text-align:center;">
                    <label>GRN No</label>
                </div>
                <div class="col col-67">
                    <ui-select theme="bootstrap" ng-model="GrnNo.selected" reset-search-input="true" on-select="showImgr2(GrnNo.selected.GoodsReceiptNoteNo)">
                        <ui-select-match allow-clear="true" placeholder="Enter to search..." style="overflow:hidden;">{{$select.selected.GoodsReceiptNoteNo}}</ui-select-match>
                        <ui-select-choices repeat="GrnNo in GrnNos track by $index" refresh="refreshGrnNos($select.search)" refresh-delay="0" position="down">
                            <div ng-bind="GrnNo.GoodsReceiptNoteNo | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <hr style="margin-top:-0.3em;">
        </div>
    </ion-pane>
    <ion-content style="margin-top:100px;">
        <ion-list tabindex="-1">
            <div class="card" ng-repeat="Imgr2 in Imgr2s">
                <label class="item item-input">
                    <span class="input-label" style="padding-top:2px; padding-bottom: 2px; font-size: small;">Product Code : <span ng-bind="Imgr2.ProductCode"></span></span>
                </label>
                <label class="item item-input">
                    <span class="input-label" style="padding-top:2px; padding-bottom: 2px; font-size: small;">Description : <span ng-bind="Imgr2.ProductDescription  | limitTo:25"></span></span>
                </label>
                <label class="item item-input">
                    <span class="input-label" style="padding-top:2px; padding-bottom: 2px; font-size: small;">Cust Batch No : <span ng-bind="Imgr2.UserDefine1"></span></span>
                </label>
                <div class="row" style="margin-left:-5px;">
                    <div class="col col-80" style="padding:0px;">
                        <label class="item item-input">
                            <span class="input-label" style="padding-top:2px; padding-bottom: 2px;">Store No&nbsp;&nbsp;:</span>
                            <input type="text" id="txt-storeno-{{ Imgr2.LineItemNo }}" ng-model="Imgr2.StoreNo" style="padding-right: 14px;">
                        </label>
                    </div>
                    <div class="col col-10">
                        <button class="button button-clear button-small" ng-click="openCam(Imgr2)"><i class="icon ion-qr-scanner"></i></button>
                    </div>
                    <div class="col">
                        <button class="button button-clear button-small" ng-click="clearInput(Imgr2)"><i class="icon ion-android-close"></i></button>
                    </div>
                </div>
            </div>
            <ion-item ng-repeat="Imgr1 in Imgr1s" id="Imgr1-{{ Imgr1.Index }}" class="item-remove-animate item-icon-right" ng-click="showImgr2(Imgr1.GoodsReceiptNoteNo)">
                <p style="font-size:0.8em;">Customer&nbsp;&nbsp;:&nbsp;&nbsp;<span ng-bind="Imgr1.CustomerCode" style="font-size:1.2em;"></span></p>
                <p style="font-size:0.8em;">GRN&nbsp;&nbsp;:&nbsp;&nbsp;<span ng-bind="Imgr1.GoodsReceiptNoteNo" style="font-size:1.3em;"></span></p>
                <p style="font-size:0.8em;">Receipt Date&nbsp;&nbsp;:&nbsp;&nbsp;<span ng-bind="showDate(Imgr1.ReceiptDate)" style="font-size:1.1em;"></span></p>
                <p style="font-size:0.8em;">Ref No&nbsp;&nbsp;:&nbsp;&nbsp;<span ng-bind="Imgr1.RefNo" style="font-size:1.1em;"></span></p>
            </ion-item>
        </ion-list>
    </ion-content>
    <ion-footer-bar class="bar-positive hide-on-keyboard-open" ng-show="Imgr2s.length > 0">
        <div class="button-bar">
            <button class="button icon ion-android-done" ng-click="checkConfirm()">
                &nbsp;Confirm
            </button>
            <button class="button icon ion-arrow-return-right" ng-click="clear()">
                &nbsp;Cancel
            </button>
        </div>
    </ion-footer-bar>
</ion-view>
